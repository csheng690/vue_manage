{"remainingRequest":"C:\\Users\\G3-Cc\\Desktop\\Manage the project\\vue_manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\G3-Cc\\Desktop\\Manage the project\\vue_manage\\src\\components\\user\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\G3-Cc\\Desktop\\Manage the project\\vue_manage\\src\\components\\user\\Users.vue","mtime":1619154808039},{"path":"C:\\Users\\G3-Cc\\Desktop\\Manage the project\\vue_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G3-Cc\\Desktop\\Manage the project\\vue_manage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\G3-Cc\\Desktop\\Manage the project\\vue_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\G3-Cc\\Desktop\\Manage the project\\vue_manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgLy/pqozor4Hpgq7nrrHop4TliJkNCiAgICB2YXIgY2hlY2tFbWFpbCA9IChydWxlLCB2YWx1ZSwgY2IpID0+IHsNCiAgICAgIGNvbnN0IHJlZ0VtYWlsID0gL14oW2EtejAtOV9cLi1dKylAKFtcZGEtelwuLV0rKVwuKFthLXpcLl17Miw2fSkkLzsNCg0KICAgICAgaWYgKHJlZ0VtYWlsLnRlc3QodmFsdWUpKSB7DQogICAgICAgIHJldHVybiBjYigpOw0KICAgICAgfQ0KICAgICAgY2IobmV3IEVycm9yKCLor7fovpPlhaXmraPnoa7nmoTpgq7nrrHlj7ciKSk7DQogICAgfTsNCiAgICAvL+mqjOivgeaJi+acuuWPt+eggeinhOWImQ0KICAgIHZhciBjaGVja01vYmlsZSA9IChydWxlLCB2YWx1ZSwgY2IpID0+IHsNCiAgICAgIGNvbnN0IHJlZ01vYmlsZSA9IC9eKDEzWzAtOV18MTRbMDE0NTY4NzldfDE1WzAtMzUtOV18MTZbMjU2N118MTdbMC04XXwxOFswLTldfDE5WzAtMzUtOV0pXGR7OH0kLzsNCg0KICAgICAgaWYgKHJlZ01vYmlsZS50ZXN0KHZhbHVlKSkgew0KICAgICAgICByZXR1cm4gY2IoKTsNCiAgICAgIH0NCiAgICAgIGNiKG5ldyBFcnJvcigi6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+3IikpOw0KICAgIH07DQoNCiAgICByZXR1cm4gew0KICAgICAgLy8g6I635Y+W55So5oi35YiX6KGo55qE5Y+C5pWwDQogICAgICBxdWVyeUluZm86IHsNCiAgICAgICAgcXVlcnk6ICIiLA0KICAgICAgICAvLyDlvZPliY3pobXmlbANCiAgICAgICAgcGFnZW51bTogMSwNCiAgICAgICAgLy8g5q+P6aG15pi+56S66KGM5pWwDQogICAgICAgIHBhZ2VzaXplOiAxMCwNCiAgICAgIH0sDQogICAgICB1c2VybGlzdDogW10sDQogICAgICB0b3RhbDogMCwNCiAgICAgIC8vICAg5o6n5Yi25re75Yqg55So5oi35a+56K+d5qGG55qE5pi+56S65ZKM6ZqQ6JePDQogICAgICBhZGREaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8vICAg5re75Yqg55So5oi36KGo5Y2V5pWw5o2uDQogICAgICBhZGRGb3JtOiB7DQogICAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgICAgcGFzc3dvcmQ6ICIiLA0KICAgICAgICBlbWFpbDogIiIsDQogICAgICAgIG1vYmlsZTogIiIsDQogICAgICB9LA0KICAgICAgLy8gICDmt7vliqDooajljZXnmoTpqozor4Hop4TliJnnmoTlr7nosaENCiAgICAgIGFkZEZvcm1SdWxlczogew0KICAgICAgICB1c2VybmFtZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXnlKjmiLflkI0iLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBtaW46IDMsDQogICAgICAgICAgICBtYXg6IDEwLA0KICAgICAgICAgICAgbWVzc2FnZTogIueUqOaIt+WQjeeahOmVv+W6puWcqDN+MTDkuKrlrZfnrKbkuYvpl7QiLA0KICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICAgIHBhc3N3b3JkOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG1pbjogNiwNCiAgICAgICAgICAgIG1heDogMTUsDQogICAgICAgICAgICBtZXNzYWdlOiAi5a+G56CB55qE6ZW/5bqm5ZyoNn4xNeS4quWtl+espuS5i+mXtCIsDQogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsDQogICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgICAgZW1haWw6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6YKu566xIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgeyB2YWxpZGF0b3I6IGNoZWNrRW1haWwsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBtb2JpbGU6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5omL5py65Y+356CBIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgeyB2YWxpZGF0b3I6IGNoZWNrTW9iaWxlLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgICAvLyAgIOaOp+WItuS/ruaUueeUqOaIt+Wvueivneahhg0KICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgLy8gICDmn6Xor6LliLDnmoTnlKjmiLfkv6Hmga/lr7nosaENCiAgICAgIGVkaXRGb3JtOiB7fSwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldFVzZXJMaXN0KCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJ1c2VycyIsIHsNCiAgICAgICAgcGFyYW1zOiB0aGlzLnF1ZXJ5SW5mbywNCiAgICAgIH0pOw0KICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmNvbnNvbGUuZXJyb3IoIuiOt+WPlueUqOaIt+WIl+ihqOWksei0pe+8gSIpOw0KICAgICAgfQ0KICAgICAgdGhpcy51c2VybGlzdCA9IHJlcy5kYXRhLnVzZXJzOw0KICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOw0KICAgIH0sDQogICAgLy8g55uR5ZCsIHBhZ2VzaXplIOaUueWPmOeahOS6i+S7tg0KICAgIGhhbmRsZVNpemVDaGFuZ2UobmV3U2l6ZSkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZXNpemUgPSBuZXdTaXplOw0KICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOw0KICAgIH0sDQogICAgLy8g55uR5ZCs6aG156CB5YC85pS55Y+YDQogICAgaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlKSB7DQogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlbnVtID0gbmV3UGFnZTsNCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsNCiAgICB9LA0KICAgIC8vIOebkeWQrOeKtuaAgeW8gOWFs+eKtuaAgQ0KICAgIGFzeW5jIHVzZXJTdGF0ZUNoYW5nZWQodXNlcmluZm8pIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnB1dCgNCiAgICAgICAgYHVzZXJzLyR7dXNlcmluZm8uaWR9L3N0YXRlLyR7dXNlcmluZm8ubWdfc3RhdGV9YA0KICAgICAgKTsNCiAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9IDIwMCkgew0KICAgICAgICB1c2VyaW5mby5tZ19zdGF0ZSA9ICF1c2VyaW5mby5tZ19zdGF0ZTsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuabtOaWsOeUqOaIt+eKtuaAgeWksei0pe+8gSIpOw0KICAgICAgfQ0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmm7TmlrDnlKjmiLfnirbmgIHmiJDlip/vvIEiKTsNCiAgICB9LA0KICAgIC8vIOebkeWQrOa3u+WKoOeUqOaIt+WvueivneahhueahOWFs+mXreS6i+S7tg0KICAgIGFkZERpYWxvZ0Nsb3NlZCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi5yZXNldEZpZWxkcygpOw0KICAgIH0sDQogICAgLy8g5re75Yqg5pWw5o2uDQogICAgYWRkVXNlcigpIHsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOw0KICAgICAgICAvLyDlj5Hotbfmt7vliqDnlKjmiLfor7fmsYINCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgidXNlcnMiLCB0aGlzLmFkZEZvcm0pOw0KDQogICAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMSkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIua3u+WKoOeUqOaIt+Wksei0pe+8gSIpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg55So5oi35oiQ5Yqf77yBIik7DQoNCiAgICAgICAgLy8g6ZqQ6JeP5re75Yqg5a+56K+d5qGGDQogICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAvLyDliLfmlrDpobXpnaLmlbDmja4NCiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvLyDlsZXnpLrkv67mlLnnlKjmiLflr7nor53moYYNCiAgICBhc3luYyBzaG93RWRpdERpYWxvZyhpZCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJ1c2Vycy8iICsgaWQpOw0KDQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuafpeivoueUqOaIt+S/oeaBr+Wksei0pe+8gSIpOw0KICAgICAgfQ0KDQogICAgICB0aGlzLmVkaXRGb3JtID0gcmVzLmRhdGE7DQogICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8vIOebkeWQrOS/ruaUueeUqOaIt+WvueivneahhueahOWFs+mXreS6i+S7tg0KICAgIGVkaXREaWFsb2dDbG9zZWQoKSB7DQogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtUmVmLnJlc2V0RmllbGRzKCk7DQogICAgfSwNCiAgICAvLyDkv67mlLnmlbDmja4NCiAgICBlZGl0VXNlcigpIHsNCiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsNCiAgICAgICAgLy8g5Y+R6LW35L+u5pS555So5oi36K+35rGCDQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnB1dCgNCiAgICAgICAgICAidXNlcnMvIiArIHRoaXMuZWRpdEZvcm0uaWQsDQogICAgICAgICAgew0KICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuZWRpdEZvcm0udXNlcm5hbWUsDQogICAgICAgICAgICBlbWFpbDogdGhpcy5lZGl0Rm9ybS5lbWFpbCwNCiAgICAgICAgICAgIG1vYmlsZTogdGhpcy5lZGl0Rm9ybS5tb2JpbGUsDQogICAgICAgICAgfQ0KICAgICAgICApOw0KDQogICAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMSkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS/ruaUueeUqOaIt+Wksei0pe+8gSIpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5L+u5pS555So5oi35oiQ5Yqf77yBIik7DQoNCiAgICAgICAgLy8g6ZqQ6JeP5L+u5pS55a+56K+d5qGGDQogICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCiAgICAgICAgLy8g5Yi35paw6aG16Z2i5pWw5o2uDQogICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy8g5qC55o2uSUTliKDpmaTlr7nlupTnmoTmlbDmja4NCiAgICBhc3luYyByZW1vdmVVc2VyQnlJZChpZCkgew0KICAgICAgY29uc3QgY29uZmlybVJlc3VsdCA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oDQogICAgICAgICLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XnlKjmiLcsIOaYr+WQpue7p+e7rT8iLA0KICAgICAgICAi5o+Q56S6IiwNCiAgICAgICAgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwNCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICAgIH0NCiAgICAgICkuY2F0Y2goKGVycikgPT4gZXJyKTsNCg0KICAgICAgLy8g5aaC5p6c55So5oi356Gu6K6k5Yig6Zmk77yM5YiZ6L+U5Zue5YC85Li65a2X56ym5LiyIGNvbmZpcm0NCiAgICAgIC8vIOWmguaenOeUqOaIt+WPlua2iOS6huWIoOmZpO+8jOWImei/lOWbnuWAvOS4uuWtl+espuS4siBjYW5jZWwNCiAgICAgIGlmIChjb25maXJtUmVzdWx0ICE9PSAiY2FuY2VsIikgew0KICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoInVzZXJzLyIgKyBpZCk7DQogICAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgew0KICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTlpLHotKXvvIEiKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKn++8gSIpOw0KICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Users.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <!-- 搜索 -->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-input\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"queryInfo.query\"\r\n            clearable\r\n            @clear=\"getUserList\"\r\n          >\r\n            <el-button\r\n              slot=\"append\"\r\n              icon=\"el-icon-search\"\r\n              @click=\"getUserList\"\r\n            ></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\"\r\n            >添加用户</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 用户列表 -->\r\n      <el-table :data=\"userlist\" border stripe>\r\n        <el-table-column type=\"index\"></el-table-column>\r\n        <el-table-column label=\"姓名\" prop=\"username\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n        <el-table-column label=\"电话\" prop=\"mobile\"></el-table-column>\r\n        <el-table-column label=\"角色\" prop=\"role_name\"></el-table-column>\r\n        <el-table-column label=\"状态\" prop=\"mg_state\">\r\n          <template v-slot=\"scope\">\r\n            <el-switch\r\n              v-model=\"scope.row.mg_state\"\r\n              @change=\"userStateChanged(scope.row)\"\r\n            >\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180px\">\r\n          <template v-slot=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"showEditDialog(scope.row.id)\"\r\n            ></el-button>\r\n            <!-- 删除按钮 -->\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"removeUserById(scope.row.id)\"\r\n            ></el-button>\r\n            <!-- 分配角色按钮 -->\r\n            <el-tooltip\r\n              effect=\"dark\"\r\n              content=\"分配角色\"\r\n              placement=\"top-end\"\r\n              :enterable=\"false\"\r\n            >\r\n              <el-button\r\n                type=\"warning\"\r\n                icon=\"el-icon-setting\"\r\n                size=\"mini\"\r\n              ></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.pagenum\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size=\"queryInfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n\r\n    <!-- 添加用户对话框 -->\r\n    <el-dialog\r\n      title=\"添加用户\"\r\n      :visible.sync=\"addDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"addDialogClosed\"\r\n    >\r\n      <!-- 内容主体 -->\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        ref=\"addFormRef\"\r\n        label-width=\"70px\"\r\n      >\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 修改用户对话框 -->\r\n    <el-dialog\r\n      title=\"修改用户\"\r\n      :visible.sync=\"editDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"editDialogClosed\"\r\n    >\r\n      <!-- 内容主体 -->\r\n      <el-form\r\n        :model=\"editForm\"\r\n        :rules=\"addFormRules\"\r\n        ref=\"editFormRef\"\r\n        label-width=\"70px\"\r\n      >\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"editForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"editForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    //验证邮箱规则\r\n    var checkEmail = (rule, value, cb) => {\r\n      const regEmail = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$/;\r\n\r\n      if (regEmail.test(value)) {\r\n        return cb();\r\n      }\r\n      cb(new Error(\"请输入正确的邮箱号\"));\r\n    };\r\n    //验证手机号码规则\r\n    var checkMobile = (rule, value, cb) => {\r\n      const regMobile = /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\r\n\r\n      if (regMobile.test(value)) {\r\n        return cb();\r\n      }\r\n      cb(new Error(\"请输入正确的手机号\"));\r\n    };\r\n\r\n    return {\r\n      // 获取用户列表的参数\r\n      queryInfo: {\r\n        query: \"\",\r\n        // 当前页数\r\n        pagenum: 1,\r\n        // 每页显示行数\r\n        pagesize: 10,\r\n      },\r\n      userlist: [],\r\n      total: 0,\r\n      //   控制添加用户对话框的显示和隐藏\r\n      addDialogVisible: false,\r\n      //   添加用户表单数据\r\n      addForm: {\r\n        username: \"\",\r\n        password: \"\",\r\n        email: \"\",\r\n        mobile: \"\",\r\n      },\r\n      //   添加表单的验证规则的对象\r\n      addFormRules: {\r\n        username: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          {\r\n            min: 3,\r\n            max: 10,\r\n            message: \"用户名的长度在3~10个字符之间\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          {\r\n            min: 6,\r\n            max: 15,\r\n            message: \"密码的长度在6~15个字符之间\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n          { validator: checkEmail, trigger: \"blur\" },\r\n        ],\r\n        mobile: [\r\n          { required: true, message: \"请输入手机号码\", trigger: \"blur\" },\r\n          { validator: checkMobile, trigger: \"blur\" },\r\n        ],\r\n      },\r\n      //   控制修改用户对话框\r\n      editDialogVisible: false,\r\n      //   查询到的用户信息对象\r\n      editForm: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.getUserList();\r\n  },\r\n  methods: {\r\n    async getUserList() {\r\n      const { data: res } = await this.$http.get(\"users\", {\r\n        params: this.queryInfo,\r\n      });\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.console.error(\"获取用户列表失败！\");\r\n      }\r\n      this.userlist = res.data.users;\r\n      this.total = res.data.total;\r\n    },\r\n    // 监听 pagesize 改变的事件\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize;\r\n      this.getUserList();\r\n    },\r\n    // 监听页码值改变\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage;\r\n      this.getUserList();\r\n    },\r\n    // 监听状态开关状态\r\n    async userStateChanged(userinfo) {\r\n      const { data: res } = await this.$http.put(\r\n        `users/${userinfo.id}/state/${userinfo.mg_state}`\r\n      );\r\n      console.log(res);\r\n      if (res.meta.status != 200) {\r\n        userinfo.mg_state = !userinfo.mg_state;\r\n        return this.$message.error(\"更新用户状态失败！\");\r\n      }\r\n      this.$message.success(\"更新用户状态成功！\");\r\n    },\r\n    // 监听添加用户对话框的关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields();\r\n    },\r\n    // 添加数据\r\n    addUser() {\r\n      this.$refs.addFormRef.validate(async (valid) => {\r\n        if (!valid) return;\r\n        // 发起添加用户请求\r\n        const { data: res } = await this.$http.post(\"users\", this.addForm);\r\n\r\n        if (res.meta.status !== 201) {\r\n          this.$message.error(\"添加用户失败！\");\r\n        }\r\n        this.$message.success(\"添加用户成功！\");\r\n\r\n        // 隐藏添加对话框\r\n        this.addDialogVisible = false;\r\n        // 刷新页面数据\r\n        this.getUserList();\r\n      });\r\n    },\r\n    // 展示修改用户对话框\r\n    async showEditDialog(id) {\r\n      const { data: res } = await this.$http.get(\"users/\" + id);\r\n\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error(\"查询用户信息失败！\");\r\n      }\r\n\r\n      this.editForm = res.data;\r\n      this.editDialogVisible = true;\r\n    },\r\n    // 监听修改用户对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields();\r\n    },\r\n    // 修改数据\r\n    editUser() {\r\n      this.$refs.editFormRef.validate(async (valid) => {\r\n        if (!valid) return;\r\n        // 发起修改用户请求\r\n        const { data: res } = await this.$http.put(\r\n          \"users/\" + this.editForm.id,\r\n          {\r\n            username: this.editForm.username,\r\n            email: this.editForm.email,\r\n            mobile: this.editForm.mobile,\r\n          }\r\n        );\r\n\r\n        if (res.meta.status !== 201) {\r\n          this.$message.error(\"修改用户失败！\");\r\n        }\r\n        this.$message.success(\"修改用户成功！\");\r\n\r\n        // 隐藏修改对话框\r\n        this.editDialogVisible = false;\r\n        // 刷新页面数据\r\n        this.getUserList();\r\n      });\r\n    },\r\n    // 根据ID删除对应的数据\r\n    async removeUserById(id) {\r\n      const confirmResult = await this.$confirm(\r\n        \"此操作将永久删除该用户, 是否继续?\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      ).catch((err) => err);\r\n\r\n      // 如果用户确认删除，则返回值为字符串 confirm\r\n      // 如果用户取消了删除，则返回值为字符串 cancel\r\n      if (confirmResult !== \"cancel\") {\r\n        const { data: res } = await this.$http.delete(\"users/\" + id);\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error(\"删除失败！\");\r\n        }\r\n        this.$message.success(\"删除成功！\");\r\n        this.getUserList();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style Lang=\"less\" scoped></style>\r\n"]}]}